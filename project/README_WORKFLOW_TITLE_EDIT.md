# 工作流标题和描述实时编辑功能

## 功能说明

现在工作流的名称和简介支持实时编辑和数据库持久化，解决了刷新后信息丢失的问题。

## 新增功能

### 1. 内联编辑 ✅
- 在侧边栏任务列表中点击编辑按钮（✏️图标）
- 可直接编辑工作流标题和描述
- 支持按Enter键保存，Esc键取消

### 2. 实时保存 ✅
- 编辑完成后自动保存到数据库
- 失焦时自动保存
- 保存成功/失败都有控制台日志

### 3. 自动更新 ✅
- 对话完成时自动生成标题和描述
- 通过API实时保存到数据库
- 页面刷新后数据不会丢失

## 使用方法

### 手动编辑
1. 在左侧任务列表中，鼠标悬停在任务上
2. 点击出现的编辑按钮（✏️）
3. 直接修改标题和描述
4. 按Enter键或点击✓保存，按Esc键或点击✗取消

### 自动生成
1. 开始新的工作流对话
2. 对话完成后，系统会根据内容自动生成合适的标题和描述
3. 信息会自动保存到数据库

## 技术实现

### 前端改动
- `Sidebar.tsx` - 添加内联编辑功能
- 新增编辑状态管理
- 集成API调用进行实时保存

### 后端支持
- 使用现有的 `PUT /api/workflow/workflows/{workflow_id}` 接口
- 支持部分字段更新（title, description）

### API调用
```typescript
// 更新工作流基本信息
await workflowApi.updateWorkflowBasicInfo(workflowId, {
  title: "新标题",
  description: "新描述"
});
```

## 注意事项

- 编辑时会阻止任务切换，避免意外操作
- 保存失败时会在控制台显示错误信息
- 支持多行描述编辑
- 编辑状态下删除按钮会隐藏，避免误操作

## 键盘快捷键

- `Enter` - 保存编辑（标题输入框）
- `Shift + Enter` - 换行（描述输入框）
- `Esc` - 取消编辑 